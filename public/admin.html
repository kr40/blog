<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Markdown Editor</title>
    <!-- Link CSS relative to the public directory or let Vite handle it -->
    <link rel="stylesheet" href="/src/styles/admin.css">
    <style>
        /* Basic page styles to override main site potentially */
        body {
            background-color: #2a2a2a;
            color: #ccc;
            font-family: sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
    </style>
</head>
<body>
    <header class="admin-header">
        <h1>Admin Panel</h1>
        <button id="help-button" class="help-button" title="Markdown Cheatsheet">?</button>
    </header>

    <section class="frontmatter-section">
        <h2>Frontmatter</h2>
        <div class="fm-grid">
            <div class="fm-item">
                <label for="fm-title">Title:</label>
                <input type="text" id="fm-title" name="title">
            </div>
            <div class="fm-item">
                <label for="fm-slug">Slug:</label>
                <input type="text" id="fm-slug" name="slug" placeholder="auto-generated-from-title">
            </div>
            <div class="fm-item">
                <label for="fm-date">Date:</label>
                <input type="date" id="fm-date" name="date">
            </div>
            <div class="fm-item">
                <label for="fm-author">Author:</label>
                <input type="text" id="fm-author" name="author" value="k4rt1k">
            </div>
            <div class="fm-item">
                <label for="fm-type">Type:</label>
                <select id="fm-type" name="type">
                    <option value="article">Article</option>
                    <option value="tutorial">Tutorial</option>
                    <option value="ctf">CTF</option>
                </select>
            </div>
            <div class="fm-item">
                <label for="fm-category">Category:</label>
                <input type="text" id="fm-category" name="category">
            </div>
            <div class="fm-item fm-item-full">
                <label for="fm-tags">Tags (comma-separated):</label>
                <input type="text" id="fm-tags" name="tags">
            </div>
        </div>
    </section>

    <main class="editor-container">
        <section class="editor-pane">
            <h2>Markdown Content</h2>
            <textarea id="markdown-input" placeholder="Enter your markdown content here..."></textarea>
        </section>
        <section class="preview-pane">
            <h2>HTML Preview</h2>
            <div id="html-preview"></div>
        </section>
    </main>

    <footer class="admin-footer">
        <button id="download-button">Generate & Download .md</button>
    </footer>

    <!-- Modal Structure -->
    <div id="markdown-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button id="close-modal" class="modal-close" title="Close">&times;</button>
            <h2>Markdown Cheatsheet</h2>
            <div class="cheatsheet-content">
                <p><strong>Special:</strong> <code>&lt;!-- more --&gt;</code> &rarr; Use this comment to mark the point where the post should be truncated for summary views.</p>
                <hr style="border-top-color: #555;">
                <p><code># Heading 1</code> &rarr; <h1>Heading 1</h1></p>
                <p><code>## Heading 2</code> &rarr; <h2>Heading 2</h2> (... up to H6)</p>
                <p><code>**Bold Text**</code> or <code>__Bold Text__</code> &rarr; <strong>Bold Text</strong></p>
                <p><code>*Italic Text*</code> or <code>_Italic Text_</code> &rarr; <em>Italic Text</em></p>
                <p><code>~~Strikethrough~~</code> &rarr; <del>Strikethrough</del></p>
                <p><code>[Link Text](http://example.com)</code> &rarr; <a href="#" onclick="return false;">Link Text</a></p>
                <p><code>![Alt Text](/path/to/image.jpg "Optional Title")</code> &rarr; (Image Display)</p>
                <p><code>* Unordered Item 1</code><br><code>* Unordered Item 2</code><br><code>  * Nested Item</code> &rarr; <ul><li>Unordered Item 1</li><li>Unordered Item 2<ul><li>Nested Item</li></ul></li></ul></p>
                <p><code>1. Ordered Item 1</code><br><code>2. Ordered Item 2</code><br><code>   1. Nested Item</code> &rarr; <ol><li>Ordered Item 1</li><li>Ordered Item 2<ol><li>Nested Item</li></ol></li></ol></p>
                <p><code>- [x] Completed Task</code><br><code>- [ ] Pending Task</code> &rarr; <ul style="list-style: none; padding-left: 0;"><li><input type="checkbox" checked disabled> Completed Task</li><li><input type="checkbox" disabled> Pending Task</li></ul></p>
                <p><code>`Inline Code`</code> &rarr; <code>Inline Code</code></p>
                <p><code>```javascript
let x = 1;
console.log(x);
```</code> &rarr; (Syntax Highlighted Block)</p>
                <p><code>&gt; Blockquote</code><br><code>&gt;&gt; Nested Blockquote</code> &rarr; <blockquote>Blockquote<blockquote>Nested Blockquote</blockquote></blockquote></p>
                <p><code>\* \# \` \_ \{ \} \[ \] \( \) \+ \- \. \!</code> &rarr; * # ` _ { } [ ] ( ) + - . ! (Escaped)</p>
                <p>Table:<br><code>| Header 1 | Header 2 |\n| -------- | -------- |\n| Cell 1   | Cell 2   |\n| Cell 3   | Cell 4   |</code><br>&rarr; (Table Display)</p>
                <p>Footnote:<br><code>Some text[^1]. More text.</code><br><code>\[^1]: This is the footnote definition.</code><br>&rarr; Some text<sup><a href="#" onclick="return false;">1</a></sup>. (Footnote link)</p>
            </div>
        </div>
    </div>

    <script type="module" src="/src/admin.js"></script>
</body>
</html>
